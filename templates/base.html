<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}–ú–æ–∏ –∑–∞–º–µ—Ç–∫–∏{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* –§–æ–Ω –¥–ª—è body */
        body {
            background-color: #f8f4e3; /* –¢–µ–ø–ª—ã–π —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
            font-family: 'Comic Sans MS', cursive, sans-serif; /* –ú–∏–ª—ã–π —à—Ä–∏—Ñ—Ç */
            opacity: 0;
            animation: fadeIn 1.5s forwards; /* –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ */
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è */
        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        .navbar {
            background-color: #f19c42; /* –¢–µ–ø–ª—ã–π –æ—Ä–∞–Ω–∂–µ–≤—ã–π */
            display: flex;
            justify-content: space-between; /* –†–∞–∑–¥–µ–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã */
            align-items: center;
            padding: 10px;
        }

        .navbar a {
            color: white !important; /* –ë–µ–ª—ã–µ —Å—Å—ã–ª–∫–∏ */
            font-weight: bold;
            font-size: 1.2rem; /* –£—Ä–∞–≤–Ω—è–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); /* –¢–µ–Ω—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞ */
        }

        .navbar a:hover {
            color: #f8f4e3 !important; /* –ú–µ–ª–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –¥–ª—è —Å—Å—ã–ª–æ–∫ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        .container {
            background-color: #fff9e6; /* –°–≤–µ—Ç–ª—ã–π, —Ç–µ–ø–ª—ã–π —Ñ–æ–Ω –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* –õ–µ–≥–∫–∞—è —Ç–µ–Ω—å –¥–ª—è —É—é—Ç–∞ */
        }

        h1, h2, h3 {
            color: #f19c42; /* –¢–æ—Ç –∂–µ —Ç–µ–ø–ª—ã–π —Ü–≤–µ—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
            font-size: 1.5rem; /* –£—Ä–∞–≤–Ω—è–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); /* –¢–µ–Ω—å –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
        }

        .btn {
            background-color: #f19c42;
            color: white;
            border-radius: 12px;
        }

        .btn:hover {
            background-color: #e4892f;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 10px;
            background-color: #f19c42;
            color: white;
            border-radius: 10px;
        }

        .volume-control {
            width: 100px;
        }

        /* –ê—É–¥–∏–æ-–∫–æ–Ω—Ç—Ä–æ–ª—ã */
        .audio-controls {
            display: flex;
            justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
            align-items: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
            gap: 10px;
        }
    </style>

    {% load static %}
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
            <a class="navbar-brand" href="{% url 'home' %}"> <span style="text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);">‚ú®üí´‚≠êÔ∏è–û—Ç–∫—Ä—ã—Ç–æ—á–∫–∞‚≠êÔ∏èüí´‚ú®</span></a>

            <!-- –¶–µ–Ω—Ç—Ä: –∫–æ–Ω—Ç—Ä–æ–ª—ã –¥–ª—è –∞—É–¥–∏–æ -->
            <div class="audio-controls">
                <button id="prevTrackBtn" class="btn btn-light">‚èÆÔ∏è</button>
                <button id="playPauseBtn" class="btn btn-light">‚ùö‚ùö</button>
                <button id="nextTrackBtn" class="btn btn-light">‚è≠Ô∏è</button>
                <input type="range" id="volumeControl" class="volume-control" value="100" max="100" />
            </div>

            <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'note_list' %}"> <span style="text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);">‚ú®üí´‚≠êÔ∏è–£–≥–æ–ª–æ–∫ –Ω–æ—Å—Ç–∞–ª—å–≥–∏–∏‚≠êÔ∏èüí´‚ú®</span></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        {% block content %}{% endblock %}
    </div>

    <div class="footer">
        <p>‚ãÜÔΩ°‚ÄßÀö öüçì…ûÀö‚ÄßÔΩ°‚ãÜ–ü—Ä–æ—à—É, –¥–∞–≤–∞–π —Ö—Ä–∞–Ω–∏—Ç—å –º–∏–ª—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–µ —Å–µ–π—á–∞—Å –∏ –≤—Å–µ–≥–¥–∞‚ãÜÔΩ°‚ÄßÀö öüçì…ûÀö‚ÄßÔΩ°‚ãÜ</p>
        <p>–°–ø—É—Å—Ç—è –¥–æ–ª–≥–∏–µ –≥–æ–¥–∞ —è –ª–∏—à—å –±–æ–ª—å—à–µ —Å—Ç–∞–ª —Ü–µ–Ω–∏—Ç—å –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ–ª —Å —Ç–æ–±–æ–π, —Ç—ã —Å–º–æ–≥–ª–∞ –ø–æ–∫–∞–∑–∞—Ç—å –º–Ω–µ –Ω–æ–≤—É—é –≥—Ä–∞–Ω—å –¥—Ä—É–∂–±—ã –∏ –º–∏—Ä–æ–≤–æ–∑—Ä–µ–Ω–∏—è, –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ, –æ —á–µ–º —è –¥–∞–∂–µ –Ω–µ –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—åüëâüëà</p>
        <p>–ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–µ–±–µ —è —Ç–æ—Ç, –∫—Ç–æ —è –µ—Å—Ç—å —Å–µ–π—á–∞—Å...</p>
        <p>–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å, –±—É–¥—å —Å—á–∞—Å—Ç–ª–∏–≤–∞ —Ö–æ—Ç—è –±—ã —Ä–∞–¥–∏ –º–µ–Ω—è, –ø—Ä–æ—à—É(‚ï•Ôπè‚ï•)</p>
    </div>

    <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ audio -->
    <audio id="background-audio" loop autoplay>
        <source src="{% static 'audio/Toby_Fox-Memory.mp3' %}" type="audio/mp3">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç audio.
    </audio>

    <script>
        // –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤
        const tracks = [
            "{% static 'audio/Toby_Fox-Memory.mp3' %}",
            "{% static 'audio/Toby_Fox-His_Theme.mp3' %}",
            "{% static 'audio/Toby_Fox-Undertale.mp3' %}",
            "{% static 'audio/Toby_Fox-Dummy.mp3' %}",
            "{% static 'audio/Toby_Fox-Snowdin_Town.mp3' %}",
            "{% static 'audio/Toby_Fox_-_Dogsong_64962762.mp3' %}",
            "{% static 'audio/Toby_Fox_-_Spider_Dance_64962807.mp3' %}",
            "{% static 'audio/Toby_Fox_-_Death_By_Glamour_64962823.mp3' %}",
            "{% static 'audio/Toby_Fox_-_Bonetrousle_64962766.mp3' %}",
            "{% static 'audio/Toby_Fox_-_MEGALOVANIA_64962866.mp3' %}",
            "{% static 'audio/Oomph_-_Der_storm_28576181.mp3' %}",
        ];
    
        let currentTrackIndex = 0;
        const audio = document.getElementById('background-audio');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeControl = document.getElementById('volumeControl');
        const prevTrackBtn = document.getElementById('prevTrackBtn');
        const nextTrackBtn = document.getElementById('nextTrackBtn');
    
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–∫–∞
        function updateTrack() {
            audio.src = tracks[currentTrackIndex];
            audio.play();
            playPauseBtn.textContent = '‚ùö‚ùö'; // –ü–∞—É–∑–∞
        }
    
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ localStorage
        window.addEventListener('load', function() {
            const savedVolume = localStorage.getItem('audioVolume');
            const savedState = localStorage.getItem('audioState');
            const savedTrackIndex = localStorage.getItem('audioTrackIndex');
            const savedTime = localStorage.getItem('audioTime');
    
            if (savedTrackIndex !== null) {
                currentTrackIndex = parseInt(savedTrackIndex); // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫
                audio.src = tracks[currentTrackIndex];
            }
    
            if (savedVolume !== null) {
                audio.volume = savedVolume;
                volumeControl.value = savedVolume * 100; // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–∑—É–Ω–æ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
            }
    
            if (savedState === 'playing') {
                audio.play();
                playPauseBtn.textContent = '‚ùö‚ùö'; // –ü–∞—É–∑–∞
            } else {
                audio.pause();
                playPauseBtn.textContent = '‚ñ∂Ô∏è'; // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
            }
    
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
            if (savedTime !== null) {
                audio.currentTime = savedTime;
            }
    
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
            audio.addEventListener('timeupdate', function() {
                localStorage.setItem('audioTime', audio.currentTime);
            });
        });
    
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è/–ø–∞—É–∑—ã
        playPauseBtn.addEventListener('click', function() {
            if (audio.paused) {
                audio.play();
                playPauseBtn.textContent = '‚ùö‚ùö'; // –ü–∞—É–∑–∞
                localStorage.setItem('audioState', 'playing');
            } else {
                audio.pause();
                playPauseBtn.textContent = '‚ñ∂Ô∏è'; // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
                localStorage.setItem('audioState', 'paused');
            }
        });
    
        // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
        volumeControl.addEventListener('input', function() {
            audio.volume = volumeControl.value / 100;
            localStorage.setItem('audioVolume', audio.volume); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å
        });
    
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç—Ä–µ–∫
        prevTrackBtn.addEventListener('click', function() {
            currentTrackIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
            updateTrack();
            localStorage.setItem('audioTrackIndex', currentTrackIndex); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–∫–∞
        });
    
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫
        nextTrackBtn.addEventListener('click', function() {
            currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
            updateTrack();
            localStorage.setItem('audioTrackIndex', currentTrackIndex); // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–∫–∞
        });
    </script>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
